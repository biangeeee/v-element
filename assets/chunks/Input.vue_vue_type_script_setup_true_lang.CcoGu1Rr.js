import{d as R,ac as j,j as p,N as D,h as g,x as O,o as s,c as t,F as T,r as f,e as n,l as F,a4 as P,ad as U,M as I,m as M,b as k,a0 as E,ae as q,n as G,S as H}from"./framework.Ciwr2nys.js";import{_ as h}from"./Icon.vue_vue_type_script_setup_true_lang.CwhJGpMq.js";const ae=Symbol("formContextKey"),J=Symbol("formItemContextKey"),L={key:0,class:"vk-input__prepend"},Q={class:"vk-input__wrapper"},W={key:0,class:"vk-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Y={key:1,class:"vk-input__append"},Z=["disabled","readonly","autocomplete","placeholder","autofocus","form"],se=R({name:"VkInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:null,size:null,disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:null,readonly:{type:Boolean},autocomplete:null,autofocus:{type:Boolean},form:null},emits:["update:modelValue","input","change","focus","blur","clear"],setup(e,{expose:z,emit:K}){const u=e,l=K,b=j(),o=p(u.modelValue),r=p(!1),d=p(!1),c=p(),m=D(J),w=a=>{m==null||m.validate(a).catch(i=>console.log(i.errors))},V=()=>{console.log("handle"),l("update:modelValue",o.value),w("input")},$=g(()=>u.clearable&&!u.disabled&&!!o.value&&r.value),v=g(()=>u.showPassword&&!u.disabled&&!!o.value),N=()=>{console.log("clear"),o.value="",l("update:modelValue",""),l("clear"),l("input",""),l("change","")},S=()=>{},A=async()=>{await H(),c.value.focus()},x=a=>{r.value=!0,l("focus",a)},B=a=>{r.value=!1,l("blur",a),w("blur")},C=()=>{d.value=!d.value};return O(()=>u.modelValue,a=>{o.value=a}),z({ref:c}),(a,i)=>(s(),t("div",{class:G(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":a.$slots.prepend,"is-append":a.$slots.append,"is-prefix":a.$slots.prefix,"is-suffix":a.$slots.suffix,"is-focus":r.value}])},[e.type!=="textarea"?(s(),t(T,{key:0},[a.$slots.prepend?(s(),t("div",L,[f(a.$slots,"prepend")])):n("",!0),F("div",Q,[a.$slots.prefix?(s(),t("span",W,[f(a.$slots,"prefix")])):n("",!0),P(F("input",I({class:"vk-input__inner"},M(b),{ref_key:"inputRef",ref:c,type:e.showPassword?d.value?"text":"password":e.type,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[0]||(i[0]=y=>o.value=y),onInput:V,onFocus:x,onBlur:B}),null,16,X),[[U,o.value]]),a.$slots.suffix||$.value||v.value?(s(),t("span",{key:1,class:"vk-input__suffix",onClick:A},[f(a.$slots,"suffix"),$.value?(s(),k(h,{key:0,icon:"circle-xmark",class:"vk-input__clear",onClick:N,onMousedown:E(S,["prevent"])})):n("",!0),v.value&&d.value?(s(),k(h,{key:1,icon:"eye",class:"vk-input__password",onClick:C})):n("",!0),v.value&&!d.value?(s(),k(h,{key:2,icon:"eye-slash",class:"vk-input__password",onClick:C})):n("",!0)])):n("",!0)]),a.$slots.append?(s(),t("div",Y,[f(a.$slots,"append")])):n("",!0)],64)):P((s(),t("textarea",I({key:1,class:"vk-input__wrapper"},M(b),{ref_key:"inputRef",ref:c,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[1]||(i[1]=y=>o.value=y),onInput:V,onFocus:x,onBlur:B}),null,16,Z)),[[q,o.value]])],2))}});export{se as _,J as a,ae as f};
